<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BMF TOURNOI - Inscription</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="background">
    <div class="overlay">
      <div class="container">
 <div style="text-align: center;">
  <img src="image/background.jpg" style="width: 200px;">
</div>" style="width: 200px;text-align: center;">
        <h1 class="title">BMF TOURNOI</h1>
        <p class="subtitle">Formulaire d'inscription au tournoi officiel</p>

        <form id="form">
          <input type="text" name="team" placeholder="Nom de l’équipe" required />
          <input type="text" name="captain" placeholder="Capitaine" required />
          <input type="email" name="email" placeholder="Email" required />
          <input type="tel" name="phone" placeholder="Numéro de téléphone" required />
          <input type="text" name="member1" placeholder="Membre 1" />
          <input type="text" name="member2" placeholder="Membre 2" />
          <input type="text" name="member3" placeholder="Membre 3" />
          <input type="text" name="member4" placeholder="Membre 4" />
          <input type="text" name="member5" placeholder="Membre 5" />
          <input type="text" name="member6" placeholder="Membre 6" />
          <button type="submit">Envoyer</button>
          <p id="confirmation" class="confirmation"></p>
        </form>
      </div>
    </div>
  </div>

  <script>
  const form = document.getElementById("form");
  const confirmation = document.getElementById("confirmation");

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    // Récupérer les données du formulaire
    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());

    // URL de ton script Google Apps Script (à remplacer par le tien)
    const scriptURL = "https://script.google.com/macros/s/TON_URL_SCRIPT/exec";

    // Envoi des données vers Google Sheets
    fetch(scriptURL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
      if (result.result === "success") {
        confirmation.textContent = "✅ Inscription réussie ! Redirection en cours...";
        confirmation.style.color = "green";

        // Rediriger vers page de paiement
        setTimeout(() => {
          window.location.href = "payement.html";
        }, 2000);
      } else {
        confirmation.textContent = "❌ Une erreur s'est produite.";
        confirmation.style.color = "red";
      }
    })
    .catch(error => {
      confirmation.textContent = "❌ Une erreur s'est produite.";
      confirmation.style.color = "red";
      console.error("Erreur lors de l'envoi :", error);
    });
  });
</script>
</body>
</html>